/* general styles */

book-section,
characters-label,
characters-person,
dialogue-didascalia,
dialogue-speech,
scene-didascalia {
  display: block;
  width: 100%;
}

book-section[is="book-title"] h1:not(:last-child),
book-section[is="book-title"] h2:not(:last-child),
book-section[is="scene"] h1:not(:last-child),
book-section[is="characters"] h1:not(:last-child),
characters-label:not(:last-child),
characters-person:not(:last-child),
dialogue-didascalia:not(:last-child),
dialogue-speech:not(:last-child),
scene-didascalia:not(:last-child) {
  margin-bottom: var(--s-leading);
}

book-section {
  display: block;
  min-height: 100vh;
  max-width: 50rem;
  margin: 0 auto;
  padding-left: var(--s-leading);
  padding-right: var(--s-leading);
  clear: both;
}

book-section:not(:last-child) {
  padding-top: var(--s-leading);
  padding-bottom: var(--s-leading);
}

book-section img {
  max-width: 100%;
  max-height: 90vh;
}

/* section: act title */

book-section[is="act-title"] h1 {
  text-align: center;
  text-transform: uppercase;
  font-size: 3rem;
  line-height: calc(var(--s-leading) * 3);
}

/* section: book ending */

book-section[is="book-ending"] h1 {
  text-align: center;
  text-transform: uppercase;
  font-size: 2rem;
  line-height: calc(var(--s-leading) * 2);
}

/* section: book title */

book-section[is="book-title"] {
  text-align: center;
}
book-section[is="book-title"] h1 {
  font-size: 4rem;
  line-height: calc(var(--s-leading) * 2);
}
book-section[is="book-title"] h2 {
  font-size: 2rem;
  line-height: calc(var(--s-leading) * 2);
}
book-section[is="book-title"] h3 {
  font-size: 1rem;
  font-style: italic;
}

/* section: scene */

book-section[is="scene"] h1,
book-section[is="characters"] h1 {
  text-align: center;
  font-size: 2rem;
  line-height: calc(var(--s-leading) * 2);
}

book-section[is="scene"] img,
book-section[is="book-title"] img {
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: var(--s-leading);
}

book-section[is="table-of-contents"] {
}

/* section: colofon */

book-section[is="colofon"] {
  white-space: pre-line;
}

/* characters */

characters-person,
characters-label {
  clear: both;
}

characters-person person-name {
  font-weight: 700;
}

characters-person img {
  float: left;
  margin-bottom: var(--s-leading);
  margin-right: var(--s-leading);
  max-width: 30vw;
  max-height: 30vh;
}

/* dialogue  */

dialogue-didascalia {
}
dialogue-speech {
  font-style: italic;
  white-space: pre-line;
  position: relative;
  margin-left: var(--s-leading);
  width: calc(100% - var(--s-leading));
}
dialogue-speech::before {
  /* em dash and nbsp */
  content: "\2014\00a0";
  position: absolute;
  right: 100%;
}

/* scene didascalia */

scene-didascalia {
  padding-left: var(--s-leading);
  padding-right: calc(0.25rem + var(--s-leading));
  border-left: 0.25rem solid currentColor;
}
scene-didascalia[is="place"] {
  text-transform: uppercase;
}
scene-didascalia[is="summary"] {
  font-style: italic;
}
